<!-- TEMPORARY TEST BUTTON -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const btn = document.createElement('button');
        btn.innerHTML = 'ğŸ“© ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡ (30æ—¥å‰)';
        btn.style.cssText = 'position:fixed; bottom:20px; right:20px; z-index:99999; padding:15px; background:#ef4444; color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.2);';
        btn.onclick = async () => {
            if (!confirm('ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«ï¼ˆ30æ—¥å‰é€šçŸ¥ï¼‰ã‚’é€ä¿¡ã—ã¾ã™ã‹ï¼Ÿ')) return;
            btn.disabled = true;
            btn.textContent = 'é€ä¿¡ä¸­...';
            try {
                const res = await fetch('/.netlify/functions/send-test-notification', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ userId: 's1DL232yuVRjkuwTh8wJM8mZIn52', daysType: 30 })
                });
                const data = await res.json();
                alert(res.ok ? 'âœ… é€ä¿¡æˆåŠŸï¼ãƒ¡ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚' : 'âŒ ã‚¨ãƒ©ãƒ¼: ' + (data.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼'));
            } catch (e) {
                alert('âŒ é€šä¿¡ã‚¨ãƒ©ãƒ¼: ' + e.message);
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ“© ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡ (30æ—¥å‰)';
            }
        };
        document.body.appendChild(btn);
    });
</script>